(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{201:function(e,t,a){},266:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),c=a(31),n=a.n(c),i=(a(201),a(14)),l=a(25),o=a(77),d=a(283),j=a(267);function b(e){window.localStorage.setItem("token",e)}function h(){return window.localStorage.getItem("token")}function u(){return p().sub}function p(){var e=h();if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(atob(t[1]))}function m(){var e=p();return!!e&&Math.round(Date.now()/1e3)<e.exp}function x(e){var t=p();return!!t&&e===t.sub}var O=a(0);var g=function(){var e=m(),t=Object(l.f)();return Object(l.g)(),Object(O.jsxs)("div",{className:"ui menu fixed",children:[Object(O.jsx)(i.b,{to:"/",className:"navbar-item",children:Object(O.jsx)(o.a,{name:"home",style:{backgroundColor:"#012349",borderRadius:0,color:"white"}})}),Object(O.jsx)(i.b,{to:"/properties",className:"navbar-item",children:Object(O.jsx)(d.a.Item,{className:"home",name:"EXPLORE"})}),e&&Object(O.jsx)(i.b,{to:"/properties/new",className:"navbar-item",children:Object(O.jsx)(d.a.Item,{className:"home",name:"ADD PROPERTY"})}),Object(O.jsx)(d.a.Item,{className:"logo",children:Object(O.jsx)(i.b,{to:"/",children:Object(O.jsx)("h1",{className:"logo-header",children:"Sharebnb"})})}),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(d.a.Item,{children:e?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(j.a,{as:"",onClick:function(){window.localStorage.removeItem("token"),t.push("/")},className:"login-button",type:"submit",style:{backgroundColor:"white",borderRadius:0,color:"#012349",border:"1px solid #012349",width:100},children:"Log Out"}),Object(O.jsx)(i.b,{to:"/profile/".concat(u()),children:Object(O.jsx)(j.a,{type:"submit",className:"login-button",style:{backgroundColor:"white",borderRadius:0,color:"#012349",border:"1px solid #012349",width:100},children:"Profile"})})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"homepage-buttons",children:Object(O.jsx)(j.a,{as:i.b,to:"/register/",className:"sign-up-button",type:"submit",style:{backgroundColor:"white",borderRadius:0,color:"#012349",border:"1px solid #012349",width:100},children:"Sign Up"})}),Object(O.jsx)("div",{className:"login-button",children:Object(O.jsx)(j.a,{as:i.b,to:"/login/",className:"login-button",type:"submit",style:{backgroundColor:"white",borderRadius:0,color:"#012349",border:"1px solid #012349",width:100},children:"Login"})})]})})})]})},v=a(9),f=a.n(v),y=a(17),N=a(13),w=a(24),F=a.n(w),C=a(289),_=a(286),k=a(279),S=a(184),P=a(177),A=a.n(P);function D(){return{headers:{Authorization:"Bearer ".concat(h())}}}var q="/api";function R(){return F.a.get("".concat(q,"/properties/"))}function E(e){return F.a.get("".concat(q,"/properties/").concat(e,"/"))}function L(e){return F.a.post("".concat(q,"/properties/"),e,D())}function M(e){return F.a.delete("".concat(q,"/properties/").concat(e,"/"),D())}function I(e,t){return F.a.put("".concat(q,"/properties/").concat(e,"/"),t,D())}function z(e){return F.a.post("".concat(q,"/reviews/"),e,D())}function B(e){return F.a.delete("".concat(q,"/reviews/").concat(e,"/"),D())}function T(e){return F.a.post("".concat(q,"/auth/register/"),e)}function G(e){return F.a.post("".concat(q,"/auth/login/"),e)}function Y(e){return F.a.get("".concat(q,"/auth/profile/").concat(e,"/"),D())}function J(e){return F.a.post("".concat(q,"/auth/profile/").concat(e,"/follow/"),null,D())}function U(e){return F.a.delete("".concat(q,"/auth/profile/").concat(e,"/follow/"),D())}function V(e){return F.a.post("".concat(q,"/properties/").concat(e,"/favorite/"),null,D())}function W(e){return F.a.delete("".concat(q,"/properties/").concat(e,"/favorite/"),D())}function Q(e){return console.log(e),F.a.post("".concat(q,"/offers/"),e,D())}function Z(e,t){return F.a.put("".concat(q,"/offers/").concat(e,"/"),t,D())}var X=function(){var e=r.a.useState(null),t=Object(N.a)(e,2),a=t[0],s=t[1],c=r.a.useState([]),n=Object(N.a)(c,2),l=n[0],d=n[1],b=m();return r.a.useEffect((function(){(function(){var e=Object(y.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F()("/api/properties/");case 3:t=e.sent,a=t.data,console.log(a),s(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.useEffect((function(){(function(){var e=Object(y.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("".concat(q,"/types/"));case 3:t=e.sent,a=t.data,console.log(a),d(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(l),Object(O.jsxs)("section",{className:"home-page-section",children:[Object(O.jsxs)("div",{className:"hero",children:[Object(O.jsxs)("div",{className:"homepage-layout",children:[Object(O.jsxs)(A.a,{interval:8e3,children:[Object(O.jsx)("img",{src:"https://ogroup.com/wp-content/uploads/2018/09/1206amalfi-high-2-1.jpg"}),Object(O.jsx)("img",{src:"https://img.gtsstatic.net/reno/imagereader.aspx?imageurl=https%3A%2F%2Fimg.gtsstatic.net%2Freno%2Fimagereader.aspx%3Fimageurl%3Dhttps%253A%252F%252Fsir.azureedge.net%252F1103i215%252F37ttpmpdkbfpmc2qzvfqfjk7a2i215%26option%3DN%26permitphotoenlargement%3Dfalse&option=N&permitphotoenlargement=false&w=1024"}),Object(O.jsx)("img",{src:"https://img.gtsstatic.net/reno/imagereader.aspx?imageurl=https%3A%2F%2Fimg.gtsstatic.net%2Freno%2Fimagereader.aspx%3Fimageurl%3Dhttps%253A%252F%252Fsir.azureedge.net%252F1103i215%252Fg2yns46rcrzvm560sq0pggy4b7i215%26option%3DN%26permitphotoenlargement%3Dfalse&option=N&permitphotoenlargement=false&w=1024"}),Object(O.jsx)("img",{src:"https://img.gtsstatic.net/reno/imagereader.aspx?imageurl=https%3A%2F%2Fimg.gtsstatic.net%2Freno%2Fimagereader.aspx%3Fimageurl%3Dhttps%253A%252F%252Fsir.azureedge.net%252F1103i215%252F2njbpshyg9a0m5p057988znnx1i215%26option%3DN%26permitphotoenlargement%3Dfalse&option=N&permitphotoenlargement=false&w=1024"}),Object(O.jsx)("img",{src:"https://img.gtsstatic.net/reno/imagereader.aspx?imageurl=https%3A%2F%2Fimg.gtsstatic.net%2Freno%2Fimagereader.aspx%3Fimageurl%3Dhttps%253A%252F%252Fsir.azureedge.net%252F1103i215%252F2dv1skzv47vg46a8ktwar408s2i215%26option%3DN%26permitphotoenlargement%3Dfalse&option=N&permitphotoenlargement=false&w=1024"}),Object(O.jsx)("img",{src:"https://img.gtsstatic.net/reno/imagereader.aspx?imageurl=https%3A%2F%2Fimg.gtsstatic.net%2Freno%2Fimagereader.aspx%3Fimageurl%3Dhttps%253A%252F%252Fsir.azureedge.net%252F280i215%252Fwms7pm7vbvfg4867kbtfpqgf21i215%26option%3DN%26permitphotoenlargement%3Dfalse&option=N&permitphotoenlargement=false&w=1024"}),Object(O.jsx)("img",{src:"https://img.gtsstatic.net/reno/imagereader.aspx?imageurl=https%3A%2F%2Fimg.gtsstatic.net%2Freno%2Fimagereader.aspx%3Fimageurl%3Dhttps%253A%252F%252Fsir.azureedge.net%252F1103i215%252Fb0v12tnvdsvpmvjry02gsk5ea4i215%26option%3DN%26permitphotoenlargement%3Dfalse&option=N&permitphotoenlargement=false&w=1024"}),Object(O.jsx)("img",{src:"https://img.gtsstatic.net/reno/imagereader.aspx?imageurl=https%3A%2F%2Fimg.gtsstatic.net%2Freno%2Fimagereader.aspx%3Fimageurl%3Dhttps%253A%252F%252Fsir.azureedge.net%252F1103i215%252Fs1fmp880z6wnm5650qfr5gt4s5i215%26option%3DN%26permitphotoenlargement%3Dfalse&option=N&permitphotoenlargement=false&w=1024"})]}),Object(O.jsxs)("div",{className:"headers",children:[Object(O.jsx)("h1",{children:"Welcome To Sharebnb"}),Object(O.jsx)("h4",{children:"Trade your property with one of our millions* of users and enjoy a unique stay at a destination chosen by you."}),b?Object(O.jsxs)("div",{className:"homepage-buttons",children:[Object(O.jsx)(j.a,{as:i.b,to:"/properties/",className:"login-button",type:"submit",style:{borderRadius:0,border:"1px solid #012349",width:"100%"},children:"Explore"}),Object(O.jsx)(j.a,{as:i.b,to:"/register/property/",className:"login-button",type:"submit",style:{borderRadius:0,border:"1px solid #012349",width:"100%"},children:"Add Property"})]}):Object(O.jsxs)("div",{className:"homepage-buttons",children:[Object(O.jsx)(j.a,{as:i.b,to:"/register/",className:"sign-up-button",type:"submit",style:{borderRadius:0,border:"1px solid #012349",width:"100%"},children:"Sign Up"}),Object(O.jsx)(j.a,{as:i.b,to:"/login/",className:"login-button",type:"submit",style:{borderRadius:0,border:"1px solid #012349",width:"100%"},children:"Login"}),Object(O.jsx)("h5",{children:"Sign Up today and join the fastest growing home swap community in the world \ud83c\udf0d"})]})]})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"homepage-second-layer",children:[Object(O.jsxs)("div",{className:"home-reviews",children:[Object(O.jsx)("h2",{children:"Join the Sharebnb Community"}),Object(O.jsx)("h5",{children:"\u201cI adore Sharebnb. I have been using it for years and enjoyed so many incredible trips to amazing homes.\u201d \u2014 Shenna Truelove"}),Object(O.jsx)("h5",{children:"\u201cWith Sharebnb, you don't just swap homes, you swap cultures. Through my connections on Sharebnb I have been able to explore the world.\u201d \u2014 Yon Mineo"})]}),Object(O.jsx)("div",{className:"users-index",children:a?a.slice(0,52).map((function(e){return Object(O.jsx)("div",{children:Object(O.jsx)("img",{src:e.owner.profile_image})},e.id)})):Object(O.jsxs)(C.a,{className:"loader",children:[Object(O.jsx)(_.a,{active:!0,inverted:!0,children:Object(O.jsx)(k.a,{inverted:!0,children:"Loading"})}),Object(O.jsx)(S.a,{src:"/images/wireframe/short-paragraph.png"})]})})]})]}),Object(O.jsx)("hr",{className:"hr"}),Object(O.jsxs)("div",{className:"featured-container-section",children:[Object(O.jsx)("div",{className:"featured-header",children:Object(O.jsx)("h2",{children:"Featured Properties"})}),Object(O.jsx)("div",{className:"index-grid",children:a?a.slice(40,43).map((function(e){return Object(O.jsx)(i.b,{to:"/properties/".concat(e.id),className:"index-grid-div-container",children:Object(O.jsxs)("div",{className:"index-grid-div",children:[Object(O.jsx)("img",{src:e.property_image}),Object(O.jsxs)("div",{className:"index-grid-house-info",children:[Object(O.jsxs)("div",{className:"house-name-details",children:[Object(O.jsx)("p",{children:e.name}),Object(O.jsxs)("p",{children:[e.city,", ",e.country]})]}),Object(O.jsxs)("div",{className:"house-details",children:[Object(O.jsxs)("div",{className:"bathrooms",children:[Object(O.jsx)(o.a,{name:"bath",className:"index-icon"}),Object(O.jsxs)("p",{children:[e.bathrooms," bathrooms "]})]}),Object(O.jsxs)("div",{className:"bedrooms",children:[Object(O.jsx)(o.a,{name:"bed",className:"index-icon"}),Object(O.jsxs)("p",{children:[e.bedrooms," bedrooms "]})]})]})]}),Object(O.jsx)("div",{className:"index-user-info",children:Object(O.jsxs)("div",{className:"index-owner-details",children:[Object(O.jsx)("div",{className:"user-profile-image",children:Object(O.jsx)("img",{src:e.owner.profile_image})}),Object(O.jsxs)("p",{children:["Added by ",e.owner.first_name," ",e.owner.last_name]})]})})]})},e.id)})):Object(O.jsxs)(C.a,{children:[Object(O.jsx)(_.a,{active:!0,inverted:!0,children:Object(O.jsx)(k.a,{inverted:!0,children:"Loading"})}),Object(O.jsx)(S.a,{src:"/images/wireframe/short-paragraph.png"})]})})]})]})};var K=function(){var e=Object(l.g)();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"/properties"===e.pathname?"mainpage-footer":"footer",children:[Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:"\xa9 Sharebnb. 2021"})}),Object(O.jsxs)("div",{className:"footer-icons",children:[Object(O.jsx)(o.a,{name:"instagram icon",className:"footer-icon"}),Object(O.jsx)(o.a,{name:"facebook icon",className:"footer-icon"}),Object(O.jsx)(o.a,{name:"twitter square icon",className:"footer-icon"})]})]})})},H=a(280),$=a(178),ee=a.n($);var te=function(e){var t=e.setFilteredProperties,a=e.searchValue,s=e.handleSearch,c=e.handleMultiTypeSelect,n=r.a.useState([]),o=Object(N.a)(n,2),j=o[0],b=o[1],h=Object(l.g)();return r.a.useEffect((function(){(function(){var e=Object(y.a)(f.a.mark((function e(){var a,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R();case 3:a=e.sent,s=a.data,b(s),t(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(j),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"index-menu-banner",children:Object(O.jsxs)("div",{className:"ui menu index-page",children:["/properties"===h.pathname&&Object(O.jsx)(H.a,{className:"search-button",icon:"search",placeholder:"Search by City, Country or Continent...",onChange:s,value:a}),Object(O.jsx)(i.b,{to:"/properties/map",className:"navbar-item",children:Object(O.jsx)(d.a.Item,{className:"home",name:"Map"})}),Object(O.jsx)(i.b,{to:"/properties",className:"navbar-item",children:Object(O.jsx)(d.a.Item,{className:"home",name:"Index"})}),"/properties"===h.pathname&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(ee.a,{options:[{label:"City",value:"City"},{label:"Countryside",value:"Countryside"},{label:"Beach",value:"Beach"},{label:"Mansion",value:"Mansion"},{label:"Cosy",value:"Cosy"},{label:"Spacious",value:"Spacious"},{label:"Modern",value:"Modern"},{label:"Traditional",value:"Traditional"},{label:"Apartment",value:"Apartment"},{label:"Chalet",value:"Chalet"},{label:"Pet-friendly",value:"Pet-friendly"},{label:"Bungalow",value:"Bungalow"},{label:"Peaceful",value:"Peaceful"},{label:"Lively",value:"Lively"},{label:"Penthouse",value:"Penthouse"}],placeholder:"Types",onChange:function(e){return c(e,"types")}})})]})})})};var ae=function(){var e=r.a.useState([]),t=Object(N.a)(e,2),a=t[0],s=t[1],c=r.a.useState([]),n=Object(N.a)(c,2),l=n[0],d=n[1],j=r.a.useState(""),b=Object(N.a)(j,2),h=b[0],u=b[1];return r.a.useEffect((function(){(function(){var e=Object(y.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R();case 3:t=e.sent,a=t.data,console.log(a),s(a),d(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(a),Object(O.jsx)(O.Fragment,{children:a?Object(O.jsxs)("div",{className:"index-container",children:[Object(O.jsx)(te,{setFilteredProperties:d,handleSearch:function(e){u(e.target.value),function(e){var t=a.filter((function(t){return t.city.toLowerCase().includes(e.target.value.toLowerCase())||t.country.toLowerCase().includes(e.target.value.toLowerCase())||t.continent.toLowerCase().includes(e.target.value.toLowerCase())}));d(t)}(e)},searchValue:h,handleMultiTypeSelect:function(e){console.log(e),function(e){if(e){var t=a.filter((function(t){return e[0].value.toLowerCase().includes(t.types.name.toLowerCase())}));console.log(t),d(t)}}(e)}}),Object(O.jsxs)(O.Fragment,{children:[!h&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Recently Added Properties"}),Object(O.jsx)("div",{className:"index-grid",children:a?a.slice(34,37).map((function(e){return Object(O.jsx)(i.b,{to:"/properties/".concat(e.id),className:"index-grid-div-container",children:Object(O.jsxs)("div",{className:"index-grid-div",children:[Object(O.jsx)("img",{src:e.property_image}),Object(O.jsxs)("div",{className:"index-grid-house-info",children:[Object(O.jsxs)("div",{className:"house-name-details",children:[Object(O.jsx)("p",{children:e.name}),Object(O.jsxs)("p",{children:[e.city,", ",e.country]})]}),Object(O.jsxs)("div",{className:"house-details",children:[Object(O.jsxs)("div",{className:"bathrooms",children:[Object(O.jsx)(o.a,{name:"bath",className:"index-icon"}),Object(O.jsxs)("p",{children:[e.bathrooms," bathrooms "]})]}),Object(O.jsxs)("div",{className:"bedrooms",children:[Object(O.jsx)(o.a,{name:"bed",className:"index-icon"}),Object(O.jsxs)("p",{children:[e.bedrooms," bedrooms "]})]})]})]}),Object(O.jsx)("div",{className:"index-user-info",children:Object(O.jsxs)("div",{className:"index-owner-details",children:[Object(O.jsx)("div",{className:"user-profile-image",children:Object(O.jsx)("img",{src:e.owner.profile_image})}),Object(O.jsxs)("p",{children:["Added by ",e.owner.first_name," ",e.owner.last_name]})]})})]})},e.id)})):Object(O.jsxs)(C.a,{children:[Object(O.jsx)(_.a,{active:!0,inverted:!0,children:Object(O.jsx)(k.a,{inverted:!0,children:"Loading"})}),Object(O.jsx)(S.a,{src:"/images/wireframe/short-paragraph.png"})]})}),Object(O.jsx)("hr",{}),Object(O.jsx)("h1",{children:"All Sharebnbs"})]}),h&&Object(O.jsxs)("h1",{children:['Search Results for..."',h,'"']}),Object(O.jsx)("div",{className:"index-grid",children:l?l.map((function(e){return Object(O.jsx)(i.b,{to:"/properties/".concat(e.id),className:"index-grid-div-container",children:Object(O.jsxs)("div",{className:"index-grid-div",children:[Object(O.jsx)("img",{src:e.property_image}),Object(O.jsxs)("div",{className:"index-grid-house-info",children:[Object(O.jsxs)("div",{className:"house-name-details",children:[Object(O.jsx)("p",{children:e.name}),Object(O.jsxs)("p",{children:[e.city,", ",e.country]})]}),Object(O.jsxs)("div",{className:"house-details",children:[Object(O.jsxs)("div",{className:"bathrooms",children:[Object(O.jsx)(o.a,{name:"bath",className:"index-icon"}),Object(O.jsxs)("p",{children:[e.bathrooms," bathrooms "]})]}),Object(O.jsxs)("div",{className:"bedrooms",children:[Object(O.jsx)(o.a,{name:"bed",className:"index-icon"}),Object(O.jsxs)("p",{children:[e.bedrooms," bedrooms "]})]})]})]}),Object(O.jsx)("div",{className:"index-user-info",children:Object(O.jsxs)("div",{className:"index-owner-details",children:[Object(O.jsx)("div",{className:"user-profile-image",children:Object(O.jsx)("img",{src:e.owner.profile_image})}),Object(O.jsxs)("p",{children:["Added by ",e.owner.first_name," ",e.owner.last_name]})]})})]})},e.id)})):Object(O.jsxs)(C.a,{children:[Object(O.jsx)(_.a,{active:!0,inverted:!0,children:Object(O.jsx)(k.a,{inverted:!0,children:"Loading"})}),Object(O.jsx)(S.a,{src:"/images/wireframe/short-paragraph.png"})]})})]})]}):Object(O.jsx)(C.a,{children:Object(O.jsx)(_.a,{active:!0,inverted:!0,children:Object(O.jsx)(k.a,{inverted:!0,children:"Loading"})})})})},se=a(23),re=a(76);var ce=function(){var e=r.a.useState({latitude:51.502643,longitude:-.07497,zoom:2,bearing:0,pitch:0}),t=Object(N.a)(e,2),a=t[0],s=t[1],c=r.a.useState([]),n=Object(N.a)(c,2),l=n[0],d=n[1],j=r.a.useState(null),b=Object(N.a)(j,2),h=b[0],u=b[1];return r.a.useEffect((function(){(function(){var e=Object(y.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R();case 3:t=e.sent,a=t.data,d(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"index-container",children:[Object(O.jsx)(te,{handleSearch:function(){history.push("/properties")}}),Object(O.jsx)("div",{className:"index-map-container",children:Object(O.jsxs)(re.c,Object(se.a)(Object(se.a)({mapboxApiAccessToken:"pk.eyJ1IjoiZWxzaWVkb3duIiwiYSI6ImNraXU0eWJqMzJ3eGMzMnFqOWE3bnYyZzYifQ.7JuRPcxwVxCZXVJER0Q7Qg",height:"100%",width:"100%",mapStyle:"mapbox://styles/mapbox/outdoors-v11"},a),{},{onClick:function(){return u(null)},onViewportChange:function(e){return s(e)},children:[l.map((function(e){return Object(O.jsx)(re.a,{latitude:Number(e.latitude),longitude:Number(e.longitude),children:Object(O.jsx)("span",{role:"img","aria-label":"map-marker",onMouseOver:function(){return u(e)},children:Object(O.jsx)(o.a,{name:"map marker alternate icon"})})},e.id)})),h&&Object(O.jsx)(re.b,{closeOnClick:!0,latitude:Number(h.latitude),longitude:Number(h.longitude),closeButton:!1,children:Object(O.jsxs)(i.b,{to:"/properties/".concat(h.id),children:[Object(O.jsx)("img",{src:h.property_image,width:"150px"}),Object(O.jsxs)("p",{children:[" ",h.name]})]})})]}))})]})})},ne=a(281),ie=a(290),le=a(284),oe=a(282),de=a(72),je=a(107);var be=function(e){var t=r.a.useState(e),a=Object(N.a)(t,2),s=a[0],c=a[1],n=r.a.useState(e),i=Object(N.a)(n,2),l=i[0],o=i[1];return{formdata:s,errors:l,handleChange:function(e){var t=Object(se.a)(Object(se.a)({},s),{},Object(je.a)({},e.target.name,e.target.value)),a=Object(se.a)(Object(se.a)({},l),{},Object(je.a)({},e.target.name,""));c(t),o(a),console.log(e.target.value)},setErrors:o,setFormdata:c}},he=a(43),ue=a.n(he);var pe=function(e){var t=e.property;return Object(O.jsx)("div",{className:"map-container",children:Object(O.jsx)(re.c,{className:"mapbox",mapboxApiAccessToken:"pk.eyJ1IjoiZWxzaWVkb3duIiwiYSI6ImNraXU0eWJqMzJ3eGMzMnFqOWE3bnYyZzYifQ.7JuRPcxwVxCZXVJER0Q7Qg",height:"250px",width:"250px",mapStyle:"mapbox://styles/mapbox/streets-v11",latitude:t.latitude?Number(t.latitude):51.533451,longitude:t.longitude?Number(t.longitude):-51.533451,zoom:4,children:t?Object(O.jsx)(re.a,{className:"map-markers",latitude:t.latitude?Number(t.latitude):51.533451,longitude:t.longitude?Number(t.longitude):-51.533451,children:Object(O.jsx)(o.a,{className:"icon",name:"map marker alternate"})},t.id):""})})},me=a(291);var xe=function(e){var t=e.id,a=r.a.useState([]),s=Object(N.a)(a,2),c=s[0],n=s[1],i=r.a.useState(!1),l=Object(N.a)(i,2),d=l[0],b=l[1],h=r.a.useState({}),p=Object(N.a)(h,2),m=p[0],x=p[1],g=be({start_date:"",end_date:"",offered_property:"",text:""}),v=g.formdata,w=g.handleChange,F=r.a.useState(!1),C=Object(N.a)(F,2),_=C[0],k=C[1];r.a.useEffect((function(){(function(){var e=Object(y.a)(f.a.mark((function e(){var a,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t);case 3:a=e.sent,s=a.data,n(s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),r.a.useEffect((function(){(function(){var e=Object(y.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(u(),D());case 3:t=e.sent,a=t.data,x(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[u()]);var S=function(){var e=Object(y.a)(f.a.mark((function e(a){var s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(v),a.preventDefault(),e.prev=2,s=Object(se.a)(Object(se.a)({},v),{},{owner:u(),requested_property:Number(t)}),e.next=6,Q(s);case 6:k(!0),console.log("Request made"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),b(!0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(de.a,{trigger:Object(O.jsxs)(j.a,{className:"request-button",type:"submit",style:{backgroundColor:"#012349",borderRadius:0,color:"white"},children:["Request A Swap ",Object(O.jsx)(o.a,{name:"exchange",className:"exchange-icon"})]}),modal:!0,nested:!0,children:function(e){return Object(O.jsxs)("div",{className:_?"sent-modal":"modal",children:[Object(O.jsx)("button",{className:"close",onClick:e,children:"\xd7"}),Object(O.jsx)("div",{className:"header",children:c.owner?Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:["Request a swap with ",c.owner.first_name," "]}),Object(O.jsx)("p",{children:c.address}),Object(O.jsxs)("p",{children:[c.city,", ",c.country]})]}):""}),Object(O.jsxs)("div",{className:"content",children:[_?Object(O.jsx)("div",{className:"review-sent-message",children:Object(O.jsx)("h1",{children:"Request sent!"})}):Object(O.jsxs)(oe.a,{inverted:!0,onSubmit:S,className:"small form",children:[Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{fluid:!0,children:"First Name *"}),Object(O.jsx)("input",{placeholder:"eg. John",onChange:w,name:"first_name"})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Last Name *"}),Object(O.jsx)("input",{placeholder:"eg. Smith",onChange:w,name:"last_name"})]})]}),Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Email *"}),Object(O.jsx)("input",{placeholder:"eg. john.smith@gmail.com",onChange:w,name:"owner",value:v.owner})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Property To Exchange *"}),Object(O.jsx)("select",{placeholder:"eg. Belmont Estate",onChange:w,name:"offered_property",value:v.offered_property,children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("option",{value:c.id,children:"Select Property"},c.id),m.created_property?m.created_property.map((function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("option",{value:e.id,children:e.name},e.id)})})):""]})})]})]}),Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Start Date *"}),Object(O.jsx)("input",{placeholder:"eg. 26/05/21",type:"date",onChange:w,name:"start_date",value:v.start_date})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"End Date *"}),Object(O.jsx)("input",{placeholder:"eg. 06/06/21",type:"date",onChange:w,name:"end_date",value:v.end_date})]})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Message to Owner *"}),Object(O.jsx)("textarea",{placeholder:"eg. I would love to swap houses with you for the summer!",onChange:w,name:"text",value:v.text})]}),Object(O.jsx)(oe.a.Field,{children:Object(O.jsx)(me.a,{label:"I agree to the Terms and Conditions *"})}),Object(O.jsx)(j.a,{className:"popup-auth-request",type:"submit",style:{backgroundColor:"white",borderRadius:0,color:"#012349",border:"none",width:"100%"},children:"Request Property Exchange"})]}),d?Object(O.jsx)("div",{className:"ui error message small",children:Object(O.jsx)("div",{className:"header",children:"Please ensure each field is completed"})}):""]}),Object(O.jsx)("div",{className:"actions",children:Object(O.jsx)(j.a,{className:"popup-auth-request",onClick:function(){console.log("modal closed "),e()},style:{backgroundColor:"white",borderRadius:0,color:"#012349",border:"none",width:"25%"},children:"Close"})})]})}})};var Oe=function(){ue()().format();var e=Object(l.h)().id,t=m(),a=Object(l.f)();Object(l.g)();var s=r.a.useState([]),c=Object(N.a)(s,2),n=c[0],d=c[1],b=r.a.useState([]),h=Object(N.a)(b,2),p=h[0],g=h[1],v=r.a.useState(!1),w=Object(N.a)(v,2),F=w[0],S=w[1],P=r.a.useState(!1),A=Object(N.a)(P,2),D=A[0],q=A[1],L=r.a.useState(null),I=Object(N.a)(L,2),T=I[0],G=I[1],Y=r.a.useState(!1),J=Object(N.a)(Y,2),U=J[0],Q=J[1],Z=r.a.useState(),X=Object(N.a)(Z,2),K=X[0],H=X[1],$=r.a.useState(!1),ee=Object(N.a)($,2),ae=ee[0],re=ee[1],ce=be({text:"",owner:{},property:""}),je=ce.formdata,he=ce.handleChange,me=ce.errors,Oe=ce.setErrors;console.log(me),r.a.useEffect((function(){(function(){var e=Object(y.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R();case 3:t=e.sent,a=t.data,console.log(a),g(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[e]),r.a.useEffect((function(){(function(){var t=Object(y.a)(f.a.mark((function t(){var a,s,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e);case 3:a=t.sent,s=a.data,d(s),console.log(s),r=s.favorited_by.some((function(e){return e.id===u()})),console.log(r),r&&S(!0),s.reviews&&G(s.reviews),console.log(T),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}})()()}),[e,K]);var ge=function(){var t=Object(y.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,V(e);case 4:S(!F),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),ve=function(){var t=Object(y.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,S(!F),t.next=5,W(e);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),fe=function(){var t=Object(y.a)(f.a.mark((function t(s){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.prev=1,q(!0),t.next=5,M(e);case 5:a.push("/properties/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),ye=function(){var e=Object(y.a)(f.a.mark((function e(t){var a,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a=t.target.name,console.log(t.target.name),s=Object(se.a)(Object(se.a)({},je),{},{property:a,owner:u()}),console.log(s),e.next=8,z(s);case 8:H({propertyId:a,formdata:je}),Q(!0),je.text="",je.rating="",e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),re(!0),Oe(e.t0.response.data.errors);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var t=Object(y.a)(f.a.mark((function t(a){var s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,s=a.target.name,t.next=5,B(s);case 5:H({id:e,formdata:je}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)("section",{className:"show-page",children:[Object(O.jsx)(te,{handleSearch:function(){a.push("/properties")},className:"navbar"}),Object(O.jsx)(O.Fragment,{children:n?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"showpage-top-layer",children:[Object(O.jsx)("img",{src:n.property_image}),Object(O.jsx)(O.Fragment,{children:t?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"icon-buttons",children:[F?Object(O.jsx)(j.a,{className:"favorite-button",onClick:ve,style:{backgroundColor:"#012349",borderRadius:100,color:"gold"},children:Object(O.jsx)(o.a,{name:"favorite"})}):Object(O.jsx)(j.a,{className:"favorite-button",style:{backgroundColor:"#012349",borderRadius:100,color:"white"},onClick:ge,children:Object(O.jsx)(o.a,{name:"favorite"})}),Object(O.jsx)(O.Fragment,{children:x(n.owner?n.owner.id:"")&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(j.a,{as:i.b,to:"/properties/".concat(e,"/edit"),className:"edit-button",style:{backgroundColor:"#012349",borderRadius:0,color:"white"},children:Object(O.jsx)(o.a,{name:"edit"})}),Object(O.jsx)(de.a,{trigger:Object(O.jsx)(j.a,{onClick:fe,className:"delete-button",style:{backgroundColor:"#012349",borderRadius:0,color:"white"},children:Object(O.jsx)(o.a,{name:"trash alternate"})}),modal:!0,nested:!0,children:function(e){return Object(O.jsxs)("div",{className:"delete-modal",children:[Object(O.jsx)("button",{className:"close",onClick:e,children:"\xd7"}),D?Object(O.jsx)("div",{className:"header",children:Object(O.jsx)("h3",{children:"Property Deleted!"})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"header",children:Object(O.jsx)("h3",{children:"Are you sure you want to delete this property?"})}),Object(O.jsxs)("div",{className:"delete-showpage-popup-buttons",children:[Object(O.jsx)(j.a,{onClick:fe,children:"Yes"}),Object(O.jsx)(j.a,{onClick:e,children:"No"})]})]})]})}})]})})]})}):Object(O.jsx)("div",{className:"icon-buttons",children:Object(O.jsx)(j.a,{className:"favorite-button",style:{backgroundColor:"#012349",borderRadius:100,color:"white"},onClick:ge,children:Object(O.jsx)(o.a,{name:"favorite"})})})})]}),Object(O.jsxs)("div",{className:"show-details",children:[Object(O.jsx)("h2",{children:n.name}),Object(O.jsx)("p",{children:n.address}),Object(O.jsxs)("p",{children:[n.city,", ",n.country]}),Object(O.jsx)("p",{children:n.description}),Object(O.jsx)(o.a,{name:"bath",className:"index-icon"}),Object(O.jsxs)("p",{children:[n.bathrooms," bathrooms "]}),Object(O.jsx)(o.a,{name:"bed",className:"index-icon"}),Object(O.jsxs)("p",{children:[n.bedrooms," bedrooms "]})]}),Object(O.jsx)(O.Fragment,{children:t?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(xe,{property:n,id:e})}):Object(O.jsx)("div",{})})]}),Object(O.jsxs)("div",{className:"middle-section",children:[Object(O.jsxs)("div",{className:"map-user-container",children:[Object(O.jsx)("div",{className:"user-details",children:n.owner?Object(O.jsxs)("div",{className:"user-fields",children:[Object(O.jsxs)("h2",{children:[n.owner.first_name," ",n.owner.last_name]}),Object(O.jsxs)("div",{className:"user-info",children:[Object(O.jsxs)("div",{className:"user-deets",children:[Object(O.jsx)("p",{children:n.owner.email}),Object(O.jsx)("p",{children:n.owner.bio_description})]}),Object(O.jsxs)("div",{className:"user-image-button",children:[Object(O.jsx)("div",{className:"user-image",children:Object(O.jsx)("img",{src:n.owner?n.owner.profile_image:""})}),Object(O.jsx)("div",{className:"contact-button",children:Object(O.jsx)(j.a,{as:i.b,to:t?"/users/profile/".concat(n.owner.id):"/login",className:"request-button",style:{backgroundColor:"#012349",borderRadius:0,color:"white"},children:n.owner?"View ".concat(n.owner.first_name,"s profile"):""})})]})]})]}):""}),Object(O.jsx)(pe,{property:n})]}),Object(O.jsxs)("div",{className:"reviews-container",children:[Object(O.jsx)(ne.a,{horizontal:!0,children:Object(O.jsx)(ie.a,{as:"h3",color:"#012349",children:"Reviews"})}),Object(O.jsxs)("div",{className:"reviews-info",children:[Object(O.jsxs)(le.a.Group,{children:[Object(O.jsxs)(le.a,{className:"showpage-comment",children:[Object(O.jsx)(le.a.Avatar,{as:"a",src:"https://randomuser.me/api/portraits/women/7.jpg"}),Object(O.jsxs)(le.a.Content,{children:[Object(O.jsx)(le.a.Author,{children:"Jane Smith"}),Object(O.jsxs)(le.a.Metadata,{children:[Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:Object(O.jsx)("small",{className:"text-muted px-1",children:"2 days ago"})})}),Object(O.jsxs)("div",{children:[Object(O.jsx)(o.a,{name:"star"}),"4"]})]}),Object(O.jsx)(le.a.Text,{children:Object(O.jsxs)("p",{children:["We had the best time at ",n.name,"! Couldnt thank ",n.owner?n.owner.first_name:"Caro"," enough! "]})})]})]}),T?T.map((function(e){return Object(O.jsxs)(le.a,{className:"showpage-comment",children:[Object(O.jsx)(le.a.Avatar,{as:"a",src:e.owner.profile_image}),Object(O.jsxs)(le.a.Content,{children:[Object(O.jsx)(le.a.Author,{children:Object(O.jsxs)(i.b,{to:"/users/profile/".concat(e.owner.id),children:[e.owner.first_name," ",e.owner.last_name]})}),Object(O.jsxs)(le.a.Metadata,{children:[Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:Object(O.jsx)("small",{className:"text-muted px-1",children:ue()(e.created_at).fromNow()})})}),Object(O.jsxs)("div",{children:[Object(O.jsx)(o.a,{name:"star"}),e.rating]})]}),Object(O.jsx)(le.a.Text,{children:Object(O.jsx)("p",{children:e.text})}),x(e.owner?e.owner.id:"")&&Object(O.jsx)(le.a.Actions,{children:Object(O.jsx)(le.a.Action,{onClick:Ne,name:e.id,children:"Delete"})})]})]},e.id)})):Object(O.jsxs)("h4",{children:["Be the first to leave a review on ",n.name]})]}),Object(O.jsx)("div",{className:"leave-review-button",children:Object(O.jsx)(de.a,{trigger:Object(O.jsxs)(j.a,{as:i.b,className:"review-button",type:"submit",style:{backgroundColor:"#012349",borderRadius:0,color:"white"},children:["Leave a Review ",Object(O.jsx)(o.a,{name:"edit outline",className:"review-icon"})]}),modal:!0,nested:!0,children:function(e){return Object(O.jsxs)("div",{className:"review-modal",children:[Object(O.jsx)("button",{className:"close",onClick:e,children:"\xd7"}),Object(O.jsx)("div",{children:U?Object(O.jsx)("div",{children:Object(O.jsx)("h1",{children:"Review Added!"})}):Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Leave A Review"}),Object(O.jsx)("textarea",{placeholder:"eg. I loved this property!",onChange:he,name:"text",value:je.text}),Object(O.jsx)("p",{children:"Rating"}),Object(O.jsx)("input",{placeholder:"eg. 1-5",onChange:he,type:"number",name:"rating",value:je.rating}),Object(O.jsx)(j.a,{onClick:ye,name:n.id,className:"submit-review",type:"submit",style:{backgroundColor:"white",borderRadius:0,color:"#012349"},children:"Submit Review"}),ae?Object(O.jsx)("div",{className:"ui error message small",children:Object(O.jsx)("div",{className:"header",children:"Please ensure each field is completed"})}):""]})})]})}})})]})]})]}),Object(O.jsx)("div",{className:"showpage-featured-header",children:Object(O.jsx)("h2",{children:"Featured Properties"})}),Object(O.jsx)("div",{className:"index-grid",children:p?p.slice(40,43).map((function(e){return Object(O.jsx)(i.b,{to:"/properties/".concat(e.id),className:"index-grid-div-container",children:Object(O.jsxs)("div",{className:"index-grid-div",children:[Object(O.jsx)("img",{src:e.property_image}),Object(O.jsxs)("div",{className:"index-grid-house-info",children:[Object(O.jsxs)("div",{className:"house-name-details",children:[Object(O.jsx)("p",{children:e.name}),Object(O.jsxs)("p",{children:[e.city,", ",e.country]})]}),Object(O.jsxs)("div",{className:"house-details",children:[Object(O.jsxs)("div",{className:"bathrooms",children:[Object(O.jsx)(o.a,{name:"bath",className:"index-icon"}),Object(O.jsxs)("p",{children:[e.bathrooms," bathrooms "]})]}),Object(O.jsxs)("div",{className:"bedrooms",children:[Object(O.jsx)(o.a,{name:"bed",className:"index-icon"}),Object(O.jsxs)("p",{children:[e.bedrooms," bedrooms "]})]})]})]}),Object(O.jsx)("div",{className:"index-user-info",children:Object(O.jsxs)("div",{className:"index-owner-details",children:[Object(O.jsx)("div",{className:"user-profile-image",children:Object(O.jsx)("img",{src:e.owner.profile_image})}),Object(O.jsxs)("p",{children:["Added by ",e.owner.first_name," ",e.owner.last_name]})]})})]})},e.id)})):""})]}):Object(O.jsx)(C.a,{children:Object(O.jsx)(_.a,{active:!0,inverted:!0,children:Object(O.jsx)(k.a,{inverted:!0,children:"Loading"})})})})]})},ge=a(91);var ve=function(){var e=Object(l.f)(),t=r.a.useState(!1),a=Object(N.a)(t,2),s=a[0],c=a[1],n=be({name:"",address:"",city:"",country:"",continent:"",description:"",property_image:"",is_available:"",latitude:"",longitude:"",bathrooms:"",bedrooms:"",types:[],owner:""}),i=n.formdata,o=n.handleChange,d=function(){var t=Object(y.a)(f.a.mark((function t(a){var s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,console.log("User has registered property"),console.log(i),s=Object(se.a)(Object(se.a)({},i),{},{is_available:!0}),console.log(s),t.next=8,L(s);case 8:e.push("/profile/".concat(u())),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),c(!0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return console.log(i),Object(O.jsx)("div",{className:"register-container",children:Object(O.jsxs)("section",{className:"register-section",children:[Object(O.jsx)("h1",{children:"Register Your Property"}),Object(O.jsxs)(oe.a,{inverted:!0,onSubmit:d,className:"small form",children:[Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{fluid:!0,children:"Property Name"}),Object(O.jsx)("input",{placeholder:"eg. Belmont Estate",onChange:o,name:"name",value:i.name})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Address"}),Object(O.jsx)("input",{placeholder:"eg. 138 Belmont Avenue",onChange:o,name:"address",value:i.address})]})]}),Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"City"}),Object(O.jsx)("input",{placeholder:"eg. London",onChange:o,name:"city",value:i.city})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Country"}),Object(O.jsx)("input",{placeholder:"eg. United Kingdom",onChange:o,name:"country",value:i.country})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Continent"}),Object(O.jsx)("input",{placeholder:"eg. Europe",onChange:o,name:"continent",value:i.continent})]})]}),Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Latitude"}),Object(O.jsx)("input",{placeholder:"eg. 51.35645",onChange:o,name:"latitude",value:i.latitude})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Longitude"}),Object(O.jsx)("input",{placeholder:"eg. -51.35645",onChange:o,name:"longitude",value:i.longitude})]})]}),Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Bedrooms"}),Object(O.jsx)("input",{placeholder:"eg. 5",onChange:o,name:"bedrooms",type:"number",value:i.bedrooms})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Bathrooms"}),Object(O.jsx)("input",{placeholder:"eg. 4",onChange:o,name:"bathrooms",type:"number",value:i.bathrooms})]})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Property Image"}),Object(O.jsx)("input",{placeholder:"eg. property_image.png",onChange:o,name:"property_image",value:i.property_image})]}),Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{className:"label",children:"Select Relevant Property Types"}),Object(O.jsx)("div",{className:"control",children:Object(O.jsx)(ge.a,{options:[{label:"City",value:1},{label:"Countryside",value:2},{label:"Beach",value:3},{label:"Mansion",value:4},{label:"Cosy",value:5},{label:"Spacious",value:6},{label:"Modern",value:7},{label:"Traditional",value:8},{label:"Apartment",value:9},{label:"Chalet",value:10},{label:"Pet-friendly",value:11},{label:"Bungalow",value:12},{label:"Peaceful",value:13},{label:"Lively",value:14},{label:"Penthouse",value:15}],isMulti:!0,name:"types",onChange:function(e){return function(e,t){var a=e?e.map((function(e){return e.value})):[];o({target:{name:t,value:a}})}(e,"types")}})})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Description"}),Object(O.jsx)("textarea",{placeholder:"eg. Exquisite Custom Gated Contemporary Estate in prime London. Amazing View lot with jetliner views. Over 11,000 sqft of luxury living on \xbe of an acre.",onChange:o,name:"description",value:i.description})]}),Object(O.jsx)(oe.a.Field,{children:Object(O.jsx)(me.a,{label:"Available For Exchange"})}),Object(O.jsx)("div",{className:"register-button",children:Object(O.jsx)(j.a,{type:"submit",children:"Register Property"})})]}),s?Object(O.jsx)("div",{className:"ui error message small",children:Object(O.jsx)("div",{className:"header",children:"Please ensure each field is completed"})}):""]})})};var fe=function(){var e=Object(l.f)(),t=Object(l.h)().id,a=r.a.useState(!1),s=Object(N.a)(a,2),c=s[0],n=s[1],i=be({name:"",address:"",city:"",country:"",continent:"",description:"",property_image:"",is_available:"",latitude:"",longitude:"",bathrooms:"",bedrooms:"",types:[],owner:""}),o=i.formdata,d=i.setFormdata,b=i.handleChange,h=r.a.useState([]),p=Object(N.a)(h,2),m=p[0],x=p[1];r.a.useEffect((function(){(function(){var e=Object(y.a)(f.a.mark((function e(){var a,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t);case 3:a=e.sent,s=a.data,x(s),console.log(s),d(s),console.log(m),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var g=function(){var a=Object(y.a)(f.a.mark((function a(s){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),a.prev=1,r=Object(se.a)(Object(se.a)({},o),{},{is_available:!0,owner:u()}),a.next=5,I(t,r);case 5:e.push("/properties/".concat(t)),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),n(!0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"edit-container",children:Object(O.jsxs)("section",{className:"register-section",children:[Object(O.jsx)("h1",{children:"Edit Your Property"}),Object(O.jsxs)(oe.a,{inverted:!0,onSubmit:g,className:"small form",children:[Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{fluid:!0,children:"Property Name"}),Object(O.jsx)("input",{placeholder:"eg. Belmont Estate",onChange:b,name:"name",value:o.name})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Address"}),Object(O.jsx)("input",{placeholder:"eg. 138 Belmont Avenue",onChange:b,name:"address",value:o.address})]})]}),Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"City"}),Object(O.jsx)("input",{placeholder:"eg. London",onChange:b,name:"city",value:o.city})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Country"}),Object(O.jsx)("input",{placeholder:"eg. United Kingdom",onChange:b,name:"country",value:o.country})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Continent"}),Object(O.jsx)("input",{placeholder:"eg. Europe",onChange:b,name:"continent",value:o.continent})]})]}),Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Latitude"}),Object(O.jsx)("input",{placeholder:"eg. 51.35645",onChange:b,name:"latitude",value:o.latitude})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Longitude"}),Object(O.jsx)("input",{placeholder:"eg. -51.35645",onChange:b,name:"longitude",value:o.longitude})]})]}),Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Bedrooms"}),Object(O.jsx)("input",{placeholder:"eg. 5",onChange:b,name:"bedrooms",type:"number",value:o.bedrooms})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Bathrooms"}),Object(O.jsx)("input",{placeholder:"eg. 4",onChange:b,name:"bathrooms",type:"number",value:o.bathrooms})]})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Property Image"}),Object(O.jsx)("input",{placeholder:"eg. property_image.png",onChange:b,name:"property_image",value:o.property_image})]}),Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{className:"label",children:"Select Relevant Property Types"}),Object(O.jsx)("div",{className:"control",children:Object(O.jsx)(ge.a,{options:[{label:"City",value:1},{label:"Countryside",value:2},{label:"Beach",value:3},{label:"Mansion",value:4},{label:"Cosy",value:5},{label:"Spacious",value:6},{label:"Modern",value:7},{label:"Traditional",value:8},{label:"Apartment",value:9},{label:"Chalet",value:10},{label:"Pet-friendly",value:11},{label:"Bungalow",value:12},{label:"Peaceful",value:13},{label:"Lively",value:14},{label:"Penthouse",value:15}],isMulti:!0,name:"types",onChange:function(e){return function(e,t){var a=e?e.map((function(e){return e.value})):[];b({target:{name:t,value:a}})}(e,"types")}})})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Description"}),Object(O.jsx)("textarea",{placeholder:"eg. Exquisite Custom Gated Contemporary Estate in prime London. Amazing View lot with jetliner views. Over 11,000 sqft of luxury living on \xbe of an acre.",onChange:b,name:"description",value:o.description})]}),Object(O.jsx)(oe.a.Field,{children:Object(O.jsx)(me.a,{label:"Available For Exchange"})}),Object(O.jsx)(j.a,{type:"submit",children:"Edit Property"})]}),c?Object(O.jsx)("div",{className:"ui error message small",children:Object(O.jsx)("div",{className:"header",children:"Please ensure each field is completed"})}):""]})})},ye=a(287);var Ne=function(e){var t=e.onChange,a=e.labelText,s=e.name,r=e.value,c=function(){var e=Object(y.a)(f.a.mark((function e(a){var r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",a.target.files[0]),r.append("upload_preset","m0cjquv5"),e.next=5,F.a.post("https://api.cloudinary.com/v1_1/dezbswzaf/image/upload",r);case 5:c=e.sent,t({target:{name:s,value:c.data.url}});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:r?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("label",{className:"label",children:a||"Upload Image"}),Object(O.jsx)("input",{className:"input",type:"file",placeholder:"select other image",onChange:c,name:s}),Object(O.jsx)(ye.a,{success:!0,header:"Image Uploaded",content:"Image Successfully Uploaded"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("label",{className:"label",children:a||"Upload Image"}),Object(O.jsx)("input",{className:"input",type:"file",onChange:c,name:s})]})})};var we=function(){var e=Object(l.f)(),t=r.a.useState(!1),a=Object(N.a)(t,2),s=a[0],c=a[1],n=be({username:"",first_name:"",last_name:"",email:"",bio_description:"",password:"",password_confirmation:"",profile_image:""}),o=n.formdata,d=n.handleChange,h=function(){var t=Object(y.a)(f.a.mark((function t(a){var s,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,console.log("User has registered"),t.next=5,T(o);case 5:return t.next=7,G(o);case 7:s=t.sent,b((r=s.data).token),console.log(r.token),e.push("/register/property"),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),c(!0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"register-container",children:Object(O.jsxs)("section",{className:"register-section",children:[Object(O.jsx)("h1",{children:"Sign Up"}),Object(O.jsxs)(oe.a,{success:!0,inverted:!0,onSubmit:h,className:"small form",children:[Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{fluid:!0,children:"First Name *"}),Object(O.jsx)("input",{placeholder:"eg. John",onChange:d,name:"first_name",value:o.first_name})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Last Name *"}),Object(O.jsx)("input",{placeholder:"eg. Smith",onChange:d,name:"last_name",value:o.last_name})]})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Email *"}),Object(O.jsx)("input",{placeholder:"eg. john.smith@gmail.com",onChange:d,name:"email",value:o.email})]}),Object(O.jsx)(oe.a.Field,{children:Object(O.jsx)(Ne,{placeholder:"eg. profile-image.png",onChange:d,labelText:"Profile Image *",name:"profile_image",value:o.profile_image})}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Username *"}),Object(O.jsx)("input",{placeholder:"eg. johnsmith123",onChange:d,name:"username",value:o.username})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Tell Us About You *"}),Object(O.jsx)("textarea",{placeholder:"eg. I live in L.A and love travelling around the world.",onChange:d,name:"bio_description",value:o.bio_description})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Password *"}),Object(O.jsx)("input",{placeholder:"Password must be 8 characters long",type:"password",onChange:d,name:"password",value:o.password})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Password Confirmation *"}),Object(O.jsx)("input",{placeholder:"Password Confirmation",type:"password",onChange:d,name:"password_confirmation",value:o.password_confirmation})]}),Object(O.jsx)(oe.a.Field,{children:Object(O.jsx)(me.a,{label:"I agree to the Terms and Conditions"})}),Object(O.jsx)("div",{className:"register-button",children:Object(O.jsx)(j.a,{type:"submit",children:"Next"})})]}),s?Object(O.jsx)("div",{className:"ui error message small",children:Object(O.jsx)("div",{className:"header",children:"Please ensure each field is completed"})}):"",Object(O.jsxs)("p",{children:["Already with us? Login ",Object(O.jsx)(i.b,{to:"/login",children:"here"})]})]})})};var Fe=function(){var e=r.a.useState(!1),t=Object(N.a)(e,2),a=t[0],s=t[1],c=be({email:"",password:""}),n=c.formdata,o=c.handleChange,d=Object(l.f)(),h=function(){var e=Object(y.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,console.log("User has loggedIn"),e.next=5,G(n);case 5:a=e.sent,b(a.data.token),d.push("/properties"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),s(!0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"login-container",children:Object(O.jsxs)("section",{className:"login-section",children:[Object(O.jsx)("h1",{children:"Login"}),Object(O.jsxs)(oe.a,{inverted:!0,onSubmit:h,className:"ui form error",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)("input",{placeholder:"eg. john.smith@gmail.com",onChange:o,name:"email",value:n.email,className:"login-input"})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Password"}),Object(O.jsx)("input",{placeholder:"Password",type:"password",onChange:o,name:"password",value:n.password,className:"login-input"})]}),Object(O.jsx)("div",{className:"login-button",children:Object(O.jsx)(j.a,{type:"submit",children:"Log In"})})]}),a?Object(O.jsxs)("div",{className:"ui error message small",children:[Object(O.jsx)("div",{className:"header",children:"Incorrect Password or Email"}),Object(O.jsx)("p",{children:"Sorry, your username or password are incorrect."})]}):Object(O.jsxs)("p",{children:["Dont have an account? Sign up ",Object(O.jsx)(i.b,{to:"/register",children:"here"})]})]})})},Ce=a(285);var _e=function(){ue()().format();var e=r.a.useState({}),t=Object(N.a)(e,2),a=t[0],s=t[1],c=r.a.useState(),n=Object(N.a)(c,2),l=n[0],d=n[1],b=r.a.useState(!1),h=Object(N.a)(b,2),p=h[0],m=h[1],x=be({start_date:"",end_date:"",offered_property:"",requested_property:"",owner:"",text:"",is_accepted:""}),g=x.formdata,v=x.setFormdata,w=r.a.useState(!0),P=Object(N.a)(w,2),A=P[0],R=P[1],E=r.a.useState(!0),L=Object(N.a)(E,2),M=L[0],I=L[1];r.a.useEffect((function(){(function(){var e=Object(y.a)(f.a.mark((function e(){var t,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(u(),D());case 3:t=e.sent,a=t.data,s(a),r=Object(se.a)({},a),v(r.created_property.offers[0]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[u(),l,p]),console.log(a);var z=function(){R(!A)},B=function(){I(!M)},T=function(){var e=Object(y.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,console.log(t.target.name),a=t.target.name,e.next=6,s=a,F.a.delete("".concat(q,"/offers/").concat(s,"/"),D());case 6:m(!0),history.push("/profile/".concat(u())),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}var s}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(y.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,console.log(t.target.name),a=t.target.name,g.is_accepted=!0,e.next=7,Z(a,g);case 7:d(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:a?Object(O.jsx)("section",{className:"profile-page",children:Object(O.jsxs)("div",{className:"profile-page-container",children:[Object(O.jsxs)("div",{className:"profile-page-header",children:[Object(O.jsx)("img",{className:"profile-page-image",src:a.profile_image}),Object(O.jsx)("div",{className:"profile-title",children:Object(O.jsxs)("h1",{children:[a.first_name," ",a.last_name," "]})}),Object(O.jsxs)("div",{className:"profile-statistics",children:[Object(O.jsx)("div",{children:Object(O.jsxs)("p",{children:[a.followed_by?a.followed_by.length:""," ",Object(O.jsx)("br",{})," Followers "]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("p",{children:[a.followed_user?a.followed_user.length:""," ",Object(O.jsx)("br",{})," Following "]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("p",{children:[a.created_property?a.created_property.length:""," ",Object(O.jsx)("br",{})," Properties"]})})]}),Object(O.jsxs)("p",{children:["Joined Sharebnb: ",Object(O.jsx)("small",{className:"text-muted px-1",children:ue()(a.date_joined).fromNow()})]})]}),Object(O.jsx)(ne.a,{horizontal:!0,children:Object(O.jsxs)(ie.a,{as:"h4",color:"#012349",children:[Object(O.jsx)(o.a,{name:"mail outline"}),"Property Swap Requests"]})}),Object(O.jsxs)("div",{className:"ui attached tabular menu",children:[Object(O.jsx)("div",{className:M?"active item":"item",children:Object(O.jsx)("div",{onClick:B,children:" Received "})}),Object(O.jsx)("div",{className:M?"item":"active item",children:Object(O.jsx)("div",{onClick:B,children:" Sent "})})]}),Object(O.jsx)(O.Fragment,{children:M?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Ce.a.Group,{className:"request-cards",children:a.created_property?a.created_property.map((function(e){return e.offers.map((function(e){return Object(O.jsxs)(Ce.a,{name:e.id,className:"request-cards",children:[Object(O.jsxs)(Ce.a.Content,{children:[Object(O.jsx)(i.b,{to:"/users/profile/".concat(e.owner.id),children:Object(O.jsx)(S.a,{floated:"right",size:"mini",src:e.owner.profile_image})}),Object(O.jsx)(Ce.a.Header,{children:Object(O.jsxs)(i.b,{to:"/users/profile/".concat(e.owner.id),children:[e.owner.first_name," ",e.owner.last_name," "]})}),Object(O.jsx)(Ce.a.Meta,{children:e.offered_property.city}),Object(O.jsxs)(Ce.a.Description,{children:["Message: ",e.text]}),Object(O.jsxs)(Ce.a.Description,{children:["Dates: ",ue()(e.start_date).format("MMM Do YY")," to ",ue()(e.end_date).format("MMM Do YY")]}),Object(O.jsxs)(Ce.a.Description,{children:["Would like to swap: ",e.requested_property.name]}),Object(O.jsxs)(Ce.a.Description,{children:["In exchange for: ",e.offered_property.name]})]}),Object(O.jsx)(Ce.a.Content,{extra:!0,children:e.is_accepted?Object(O.jsxs)("div",{className:"ui two buttons",children:[Object(O.jsx)(j.a,{basic:!0,color:"green",children:"Accepted"}),Object(O.jsx)(j.a,{as:i.b,to:"/properties/".concat(e.offered_property.id),basic:!0,color:"green",children:"View Property"})]}):Object(O.jsxs)("div",{className:"ui two buttons",children:[Object(O.jsx)(j.a,{basic:!0,color:"green",name:e.id,onClick:G,children:"Accept"}),Object(O.jsx)(j.a,{basic:!0,color:"red",children:"Decline"})]})})]},e.id)}))})):""})}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Ce.a.Group,{children:a.posted_offers?a.posted_offers.map((function(e){return Object(O.jsx)(Ce.a,{name:e.id,children:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(Ce.a.Content,{children:[Object(O.jsx)(de.a,{trigger:Object(O.jsx)(j.a,{floated:"right",size:"mini",children:Object(O.jsx)(o.a,{name:"trash alternate outline"})}),modal:!0,nested:!0,children:function(t){return Object(O.jsxs)("div",{className:"delete-request-modal",children:[Object(O.jsx)("button",{className:"close",onClick:t,children:"\xd7"}),p?Object(O.jsx)("div",{className:"header",children:Object(O.jsx)("h3",{children:"Request Deleted!"})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"header",children:Object(O.jsx)("h3",{children:"Are you sure you want to delete this Request?"})}),Object(O.jsxs)("div",{className:"delete-request-popup-buttons",children:[Object(O.jsx)(j.a,{onClick:T,name:e.id,children:"Yes"}),Object(O.jsx)(j.a,{onClick:t,children:"No"})]})]})]})}}),Object(O.jsx)(Ce.a.Header,{children:Object(O.jsxs)(i.b,{to:"/properties/".concat(e.requested_property.id),children:[e.requested_property.name," "]})}),Object(O.jsxs)(Ce.a.Meta,{children:[e.requested_property.city,", ",e.requested_property.country]}),Object(O.jsxs)(Ce.a.Description,{children:["Your Message: ",e.text]}),Object(O.jsxs)(Ce.a.Description,{children:["From ",ue()(e.start_date).format("MMM Do YY")," to ",ue()(e.end_date).format("MMM Do YY")]}),Object(O.jsxs)(Ce.a.Description,{children:["In Exchange For: ",e.offered_property.name]})]}),Object(O.jsx)(Ce.a.Content,{extra:!0,children:Object(O.jsx)("div",{children:Object(O.jsx)(O.Fragment,{children:e.is_accepted?Object(O.jsxs)("div",{className:"ui two buttons",children:[Object(O.jsx)(j.a,{basic:!0,color:"green",children:"Accepted"}),Object(O.jsx)(j.a,{as:i.b,to:"/properties/".concat(e.requested_property.id),basic:!0,color:"green",children:"View Property"})]}):Object(O.jsx)(j.a,{basic:!0,color:"red",children:"Pending"})})})})]})},e.id)})):""})})}),Object(O.jsx)(ne.a,{horizontal:!0,children:Object(O.jsx)(ie.a,{as:"h4",color:"#012349",children:"Bio"})}),Object(O.jsx)("div",{children:Object(O.jsx)("p",{className:"profile-bio-description",children:a.bio_description})}),Object(O.jsx)(ne.a,{horizontal:!0,children:Object(O.jsxs)(ie.a,{as:"h4",color:"#012349",children:[Object(O.jsx)(o.a,{name:"home"}),"Properties"]})}),Object(O.jsxs)("div",{className:"ui attached tabular menu",children:[Object(O.jsx)("div",{className:A?"active item":"item",children:Object(O.jsx)("div",{onClick:z,children:" Owned "})}),Object(O.jsx)("div",{className:A?"item":"active item",children:Object(O.jsx)("div",{onClick:z,children:" Favourites "})})]}),Object(O.jsx)(O.Fragment,{children:A?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(C.a,{className:"ui bottom attached segment active tab",children:[a.created_property?a.created_property.map((function(e){return Object(O.jsx)(i.b,{to:"/properties/".concat(e.id),className:"profile-grid-div-container",children:Object(O.jsxs)("div",{className:"profile-grid-div",children:[Object(O.jsx)("img",{src:e.property_image}),Object(O.jsxs)("div",{className:"index-grid-house-info",children:[Object(O.jsxs)("div",{className:"profile-house-name-details",children:[Object(O.jsx)("p",{children:e.name}),Object(O.jsxs)("p",{children:[e.city,", ",e.country]})]}),Object(O.jsxs)("div",{className:"house-details",children:[Object(O.jsxs)("div",{className:"profile-bathrooms",children:[Object(O.jsx)(o.a,{name:"bath",className:"profile-icon"}),Object(O.jsxs)("p",{children:[e.bathrooms," bathrooms "]})]}),Object(O.jsxs)("div",{className:"profile-bedrooms",children:[Object(O.jsx)(o.a,{name:"bed",className:"profile-icon"}),Object(O.jsxs)("p",{children:[e.bedrooms," bedrooms "]})]})]})]})]})},e.id)})):"",Object(O.jsx)("div",{children:Object(O.jsx)(i.b,{to:"/properties/new",children:Object(O.jsxs)("div",{className:"profile-add-new-property",children:[Object(O.jsx)(o.a,{name:"add"}),"Add New Property"]})})})]})}):Object(O.jsx)(C.a,{className:"ui bottom attached segment active tab",children:Object(O.jsx)("div",{className:"profile-div-grid",children:a.favorited_property?a.favorited_property.map((function(e){return Object(O.jsx)(i.b,{to:"/properties/".concat(e.id),className:"profile-grid-div-container",children:Object(O.jsxs)("div",{className:"profile-grid-div",children:[Object(O.jsx)("img",{src:e.property_image}),Object(O.jsxs)("div",{className:"index-grid-house-info",children:[Object(O.jsxs)("div",{className:"profile-house-name-details",children:[Object(O.jsx)("p",{children:e.name}),Object(O.jsxs)("p",{children:[e.city,", ",e.country]})]}),Object(O.jsxs)("div",{className:"house-details",children:[Object(O.jsxs)("div",{className:"profile-bathrooms",children:[Object(O.jsx)(o.a,{name:"bath",className:"profile-icon"}),Object(O.jsxs)("p",{children:[e.bathrooms," bathrooms "]})]}),Object(O.jsxs)("div",{className:"profile-bedrooms",children:[Object(O.jsx)(o.a,{name:"bed",className:"profile-icon"}),Object(O.jsxs)("p",{children:[e.bedrooms," bedrooms "]})]})]})]})]})},e.id)})):""})})})]})}):Object(O.jsxs)(C.a,{children:[Object(O.jsx)(_.a,{active:!0,inverted:!0,children:Object(O.jsx)(k.a,{inverted:!0,children:"Loading"})}),Object(O.jsx)(S.a,{src:"/images/wireframe/short-paragraph.png"})]})})};var ke=function(){ue()().format();var e=r.a.useState({}),t=Object(N.a)(e,2),a=t[0],s=t[1],c=Object(l.h)().id,n=r.a.useState(!0),d=Object(N.a)(n,2),j=d[0],b=d[1],h=r.a.useState(!1),u=Object(N.a)(h,2),p=u[0],m=u[1],x=r.a.useState(0),g=Object(N.a)(x,2),v=g[0],w=g[1];r.a.useEffect((function(){(function(){var e=Object(y.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(c);case 3:t=e.sent,a=t.data,console.log(a),a.followed_by&&w(a.followed_by.length),s(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(a);var F=function(){b(!j)},_=function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,J(c);case 4:console.log("user followed"),m(!p),w(v+1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,m(!p),w(v-1),e.next=6,U(c);case 6:console.log("user unfollowed"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("section",{className:"profile-page",children:Object(O.jsxs)("div",{className:"profile-page-container",children:[Object(O.jsxs)("div",{className:"profile-page-header",children:[Object(O.jsx)("img",{className:"profile-page-image",src:a.profile_image}),Object(O.jsxs)("div",{className:"profile-title",children:[Object(O.jsxs)("h1",{children:[a.first_name," ",a.last_name," "]}),p?Object(O.jsx)(o.a,{onClick:k,className:"add-user-icon",name:"remove user"}):Object(O.jsx)(o.a,{onClick:_,className:"add-user-icon",name:"add user"})]}),Object(O.jsxs)("div",{className:"profile-statistics",children:[Object(O.jsx)("div",{children:Object(O.jsxs)("p",{children:[v||0," ",Object(O.jsx)("br",{})," Followers "]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("p",{children:[a.followed_users?a.followed_users.length:0," ",Object(O.jsx)("br",{})," Following "]})}),Object(O.jsx)("div",{children:Object(O.jsxs)("p",{children:[a.created_property?a.created_property.length:"",Object(O.jsx)("br",{})," Properties"]})})]}),Object(O.jsxs)("p",{children:["Joined Sharebnb: ",Object(O.jsx)("small",{className:"text-muted px-1",children:ue()(a.date_joined).fromNow()})]})]}),Object(O.jsx)(ne.a,{horizontal:!0,children:Object(O.jsx)(ie.a,{as:"h4",children:"Bio"})}),Object(O.jsx)("div",{className:"profile-bio",children:Object(O.jsx)("p",{children:a.bio_description})}),Object(O.jsx)(ne.a,{horizontal:!0,children:Object(O.jsx)(ie.a,{as:"h4",children:"Properties"})}),Object(O.jsxs)("div",{className:"ui attached tabular menu",children:[Object(O.jsx)("div",{className:j?"active item":"item",children:Object(O.jsx)("div",{onClick:F,children:" Owned "})}),Object(O.jsx)("div",{className:j?"item":"active item",children:Object(O.jsx)("div",{onClick:F,children:" Favourites "})})]}),Object(O.jsx)(O.Fragment,{children:j?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(C.a,{className:"ui bottom attached segment active tab",children:Object(O.jsx)("div",{children:a.created_property?a.created_property.map((function(e){return Object(O.jsx)(i.b,{to:"/properties/".concat(e.id),className:"index-grid-div-container",children:Object(O.jsxs)("div",{className:"profile-grid-div",children:[Object(O.jsx)("img",{src:e.property_image}),Object(O.jsxs)("div",{className:"index-grid-house-info",children:[Object(O.jsxs)("div",{className:"profile-house-name-details",children:[Object(O.jsx)("p",{children:e.name}),Object(O.jsxs)("p",{children:[e.city,", ",e.country]})]}),Object(O.jsxs)("div",{className:"profile-house-name-details",children:[Object(O.jsxs)("div",{className:"profile-bathrooms",children:[Object(O.jsx)(o.a,{name:"bath",className:"profile-icon"}),Object(O.jsxs)("p",{children:[e.bathrooms," bathrooms "]})]}),Object(O.jsxs)("div",{className:"profile-bedrooms",children:[Object(O.jsx)(o.a,{name:"bed",className:"profile-icon"}),Object(O.jsxs)("p",{children:[e.bedrooms," bedrooms "]})]})]})]})]})},e.id)})):""})})}):Object(O.jsx)(C.a,{className:"ui bottom attached segment active tab",children:Object(O.jsx)("div",{children:a.favorited_property?a.favorited_property.map((function(e){return Object(O.jsx)(i.b,{to:"/properties/".concat(e.id),className:"index-grid-div-container",children:Object(O.jsxs)("div",{className:"profile-grid-div",children:[Object(O.jsx)("img",{src:e.property_image}),Object(O.jsxs)("div",{className:"index-grid-house-info",children:[Object(O.jsxs)("div",{className:"house-name-details",children:[Object(O.jsx)("p",{children:e.name}),Object(O.jsxs)("p",{children:[e.city,", ",e.country]})]}),Object(O.jsxs)("div",{className:"house-details",children:[Object(O.jsxs)("div",{className:"profile-bathrooms",children:[Object(O.jsx)(o.a,{name:"bath",className:"profile-icon"}),Object(O.jsxs)("p",{children:[e.bathrooms," bathrooms "]})]}),Object(O.jsxs)("div",{className:"profile-bedrooms",children:[Object(O.jsx)(o.a,{name:"bed",className:"profile-icon"}),Object(O.jsxs)("p",{children:[e.bedrooms," bedrooms "]})]})]})]})]})},e.id)})):""})})}),Object(O.jsx)(xe,{id:a.created_property?a.created_property.map((function(e){return e.id})):""})]})})})};var Se=function(){var e=Object(l.f)(),t=r.a.useState(!1),a=Object(N.a)(t,2),s=a[0],c=a[1],n=be({name:"",address:"",city:"",country:"",continent:"",description:"",property_image:"",is_available:"",latitude:"",longitude:"",bathrooms:"",bedrooms:"",types:[],owner:""}),i=n.formdata,o=n.handleChange,d=function(){var t=Object(y.a)(f.a.mark((function t(a){var s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,console.log("User has registered property"),console.log(i),s=Object(se.a)(Object(se.a)({},i),{},{is_available:!0}),console.log(s),t.next=8,L(s);case 8:e.push("/login"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),c(!0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return console.log(i),Object(O.jsx)("div",{className:"register-container",children:Object(O.jsxs)("section",{className:"register-section",children:[Object(O.jsx)("h1",{children:"Register Your Property"}),Object(O.jsxs)(oe.a,{inverted:!0,onSubmit:d,className:"small form",children:[Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{fluid:!0,children:"Property Name"}),Object(O.jsx)("input",{placeholder:"eg. Belmont Estate",onChange:o,name:"name",value:i.name})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Address"}),Object(O.jsx)("input",{placeholder:"eg. 138 Belmont Avenue",onChange:o,name:"address",value:i.address})]})]}),Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"City"}),Object(O.jsx)("input",{placeholder:"eg. London",onChange:o,name:"city",value:i.city})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Country"}),Object(O.jsx)("input",{placeholder:"eg. United Kingdom",onChange:o,name:"country",value:i.country})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Continent"}),Object(O.jsx)("input",{placeholder:"eg. Europe",onChange:o,name:"continent",value:i.continent})]})]}),Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Latitude"}),Object(O.jsx)("input",{placeholder:"eg. 51.35645",onChange:o,name:"latitude",value:i.latitude})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Longitude"}),Object(O.jsx)("input",{placeholder:"eg. -51.35645",onChange:o,name:"longitude",value:i.longitude})]})]}),Object(O.jsxs)(oe.a.Group,{widths:"equal",children:[Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Bedrooms"}),Object(O.jsx)("input",{placeholder:"eg. 5",onChange:o,name:"bedrooms",type:"number",value:i.bedrooms})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Bathrooms"}),Object(O.jsx)("input",{placeholder:"eg. 4",onChange:o,name:"bathrooms",type:"number",value:i.bathrooms})]})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Property Image"}),Object(O.jsx)("input",{placeholder:"eg. property_image.png",onChange:o,name:"property_image",value:i.property_image})]}),Object(O.jsxs)("div",{className:"field",children:[Object(O.jsx)("label",{className:"label",children:"Select Relevant Property Types"}),Object(O.jsx)("div",{className:"control",children:Object(O.jsx)(ge.a,{options:[{label:"City",value:1},{label:"Countryside",value:2},{label:"Beach",value:3},{label:"Mansion",value:4},{label:"Cosy",value:5},{label:"Spacious",value:6},{label:"Modern",value:7},{label:"Traditional",value:8},{label:"Apartment",value:9},{label:"Chalet",value:10},{label:"Pet-friendly",value:11},{label:"Bungalow",value:12},{label:"Peaceful",value:13},{label:"Lively",value:14},{label:"Penthouse",value:15}],isMulti:!0,name:"types",onChange:function(e){return function(e,t){var a=e?e.map((function(e){return e.value})):[];o({target:{name:t,value:a}})}(e,"types")}})})]}),Object(O.jsxs)(oe.a.Field,{children:[Object(O.jsx)("label",{children:"Description"}),Object(O.jsx)("textarea",{placeholder:"eg. Exquisite Custom Gated Contemporary Estate in prime London. Amazing View lot with jetliner views. Over 11,000 sqft of luxury living on \xbe of an acre.",onChange:o,name:"description",value:i.description})]}),Object(O.jsx)(oe.a.Field,{children:Object(O.jsx)(me.a,{label:"Available For Exchange"})}),Object(O.jsx)("div",{className:"register-button",children:Object(O.jsx)(j.a,{type:"submit",children:"Register Property"})})]}),s?Object(O.jsx)("div",{className:"ui error message small",children:Object(O.jsx)("div",{className:"header",children:"Please ensure each field is completed"})}):""]})})};var Pe=function(){return Object(O.jsxs)(i.a,{children:[Object(O.jsx)(g,{}),Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{exact:!0,path:"/",component:X}),Object(O.jsx)(l.a,{path:"/properties/new",component:ve}),Object(O.jsx)(l.a,{path:"/properties/:id/edit",component:fe}),Object(O.jsx)(l.a,{path:"/properties/map",component:ce}),Object(O.jsx)(l.a,{path:"/properties/:id",component:Oe}),Object(O.jsx)(l.a,{path:"/properties",component:ae}),Object(O.jsx)(l.a,{path:"/register/property",component:Se}),Object(O.jsx)(l.a,{path:"/register",component:we}),Object(O.jsx)(l.a,{path:"/login",component:Fe}),Object(O.jsx)(l.a,{path:"/profile/:id",component:_e}),Object(O.jsx)(l.a,{path:"/users/profile/:id",component:ke})]}),Object(O.jsx)(K,{})]})};a(265);n.a.render(Object(O.jsx)(Pe,{}),document.getElementById("root"))}},[[266,1,2]]]);
//# sourceMappingURL=main.8307c17e.chunk.js.map